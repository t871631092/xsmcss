(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd1e8"],{"2b46":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-white h-100p p-25 noscroll"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[e._v("课程管理")])]),a("div",{staticClass:"row h-100p"},[a("div",{staticClass:"col-md-4 p-25"},[a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"75%","highlight-current-row":""},on:{"current-change":e.handleSelectChange}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{property:"name",label:"课程名称"}}),a("el-table-column",{attrs:{property:"category",label:"课程类别"}})],1),a("el-pagination",{staticClass:"m-t-25",attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("div",{staticClass:"col-md-8"},[a("h4",{staticStyle:{"margin-top":"25px"}},[e._v("创建/编辑课程")]),a("el-form",{ref:"form",staticClass:"p-25",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"课程名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"课程类别"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择课程类别"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}},[a("el-option",{attrs:{label:"A",value:"A"}}),a("el-option",{attrs:{label:"B",value:"B"}})],1)],1),a("el-form-item",{attrs:{label:"课程学分"}},[a("el-input",{model:{value:e.form.credit,callback:function(t){e.$set(e.form,"credit",t)},expression:"form.credit"}})],1),a("el-form-item",{attrs:{label:"课程学时"}},[a("el-input",{model:{value:e.form.period,callback:function(t){e.$set(e.form,"period",t)},expression:"form.period"}})],1),a("el-form-item",{attrs:{label:"课程人数"}},[a("el-input",{model:{value:e.form.capacity,callback:function(t){e.$set(e.form,"capacity",t)},expression:"form.capacity"}})],1),a("el-form-item",{attrs:{label:"课程教师"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"default-first-option":"",placeholder:"选择教师"},model:{value:e.form.teacher_id,callback:function(t){e.$set(e.form,"teacher_id",t)},expression:"form.teacher_id"}},e._l(e.teacher,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"课程描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),a("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("删除")]),a("el-button",{on:{click:e.onSubmit}},[e._v("取消")]),a("el-button",{on:{click:e.newCourse}},[e._v("新建")])],1)],1)],1)])],1)},i=[],o={data:function(){return{form:{id:"",name:"",category:"",period:"",credit:"",capacity:"",teacher_id:"",description:""},tableData:[],count:0,page:1,size:10,teacher:[]}},mounted:function(){this.getTeacher(),this.getData()},methods:{handleSelectChange:function(e){this.form=this.Clone(e)},handleSizeChange:function(e){this.size=e,this.getData()},handleCurrentChange:function(e){this.page=e,this.getData()},onSubmit:function(){var e=this;this.Post("admin/course",e.form,(function(t){t.success?(e.page=1,e.tableData=t.data,e.count=t.count):alert(t.msg)}))},getData:function(){var e=this;console.log(e.size),this.Get("admin/course",{page:e.page-1,size:e.size},(function(t){t.success?(e.tableData=t.data,e.count=t.count):alert(t.msg)}))},handleDelete:function(){var e=this;this.Delete("admin/course",{id:e.form.id},(function(t){t.success?(e.page=1,console.log(t),e.tableData=t.data,e.count=t.count):alert(t.msg)}))},getTeacher:function(){var e=this;this.Get("admin/teacher",{page:0,size:1e7},(function(t){t.success?e.teacher=t.data:alert(t.msg)}))},newCourse:function(){var e=this;e.form={id:"",name:"",category:"",period:"",credit:"",capacity:"",teacher_id:"",description:""}}}},r=o,n=a("2877"),c=Object(n["a"])(r,l,i,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0bd1e8.124a50c7.js.map