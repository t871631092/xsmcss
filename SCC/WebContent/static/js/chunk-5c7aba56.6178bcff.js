(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c7aba56"],{"086d":function(t,e,a){},1417:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-white height-100p padding-25 noscroll"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[t._v("学生成绩录入")])]),a("div",{staticClass:"container"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.courseData,(function(t,e){return a("el-tab-pane",{key:e,attrs:{label:t.name,name:t.coures_id.toString()}})})),1)],1),a("el-row",{staticClass:"height-100p",attrs:{type:"flex",gutter:10,justify:"center"}},[a("el-col",{attrs:{md:12}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"80%","empty-text":"选择录入的课程"}},[a("el-table-column",{attrs:{prop:"student_name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"score",label:"成绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.score,callback:function(a){t.$set(e.row,"score",a)},expression:"scope.row.score"}})]}}])}),a("el-table-column",{attrs:{prop:"isSave",label:"已保存"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[null==e.row.isSave||0==e.row.isSave?a("i",{staticClass:"el-icon-check"}):t._e(),null!=e.row.isSave&&0!=e.row.isSave?a("i",{staticClass:"el-icon-close"}):t._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("保存")])]}}])})],1),a("div",{staticClass:"block m-t-25"},[a("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)},n=[],i=(a("b0c0"),{data:function(){return{tableData:[],courseData:[],count:0,page:1,size:10,activeName:"",cid:null}},mounted:function(){this.getCourseData()},methods:{handleEdit:function(t,e){this.$set(this.tableData[t],"isSave",1),this.Save(this.cid,e.student_id,e.score,t)},handleSave:function(t,e){this.$set(this.tableData[t],"isSave",1),this.Save(this.cid,e.student_id,e.score,t)},Save:function(t,e,a,s){var n=this;this.Post("course/addscore",{course_id:t,student_id:e,score:a},(function(t){t.success?n.tableData[s].isSave=0:alert(t.msg)}))},handleSizeChange:function(t){this.size=t,this.getData(this.cid)},handleCurrentChange:function(t){this.page=t,this.getData(this.cid)},handleClick:function(t){this.getData(t.name)},getCourseData:function(){var t=this;this.Get("admin/course",{page:t.page-1,size:t.size,tid:this.$store.state.user.username},(function(e){e.success?(t.courseData=e.data,t.count=e.count):alert(e.msg)}))},getData:function(t){var e=this;e.tableData=[],this.Get("course/list",{id:t,page:e.page-1,size:e.size},(function(a){a.success?(e.cid=t,e.tableData=a.data,e.count=a.count):alert(a.msg)}))}}}),c=i,l=(a("67cc"),a("2877")),o=Object(l["a"])(c,s,n,!1,null,null,null);e["default"]=o.exports},"67cc":function(t,e,a){"use strict";var s=a("086d"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-5c7aba56.6178bcff.js.map