(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c7aba56"],{"086d":function(e,t,a){},1417:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-white height-100p padding-25 noscroll"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[e._v("学生成绩录入")])]),a("div",{staticClass:"container"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.courseData,(function(e,t){return a("el-tab-pane",{key:t,attrs:{label:e.name,name:e.coures_id.toString()}})})),1)],1),a("el-row",{staticClass:"height-100p",attrs:{type:"flex",gutter:10,justify:"center"}},[a("el-col",{attrs:{md:12}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"80%","empty-text":"选择录入的课程"}},[a("el-table-column",{attrs:{prop:"student_name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"score",label:"成绩"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return e.handleEdit(t.$index,t.row)}},model:{value:t.row.score,callback:function(a){e.$set(t.row,"score",a)},expression:"scope.row.score"}})]}}])}),a("el-table-column",{attrs:{prop:"isSave",label:"已保存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[null==t.row.isSave||0==t.row.isSave?a("i",{staticClass:"el-icon-check"}):e._e(),null!=t.row.isSave&&0!=t.row.isSave?a("i",{staticClass:"el-icon-close"}):e._e()])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleSave(t.$index,t.row)}}},[e._v("保存")])]}}])})],1),a("div",{staticClass:"block m-t-25"},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},n=[],i=(a("b0c0"),{data:function(){return{tableData:[],courseData:[],count:0,page:1,size:10,activeName:"",cid:null}},mounted:function(){this.getCourseData()},methods:{handleEdit:function(e,t){this.$set(this.tableData[e],"isSave",1),this.Save(this.cid,t.student_id,t.score,e)},handleSave:function(e,t){this.$set(this.tableData[e],"isSave",1),this.Save(this.cid,t.student_id,t.score,e)},Save:function(e,t,a,s){var n=this;this.Post("course/addscore",{course_id:e,student_id:t,score:a},(function(e){e.success?n.tableData[s].isSave=0:alert(e.msg)}))},handleSizeChange:function(e){this.size=e,this.getData()},handleCurrentChange:function(e){this.page=e,this.getData()},handleClick:function(e){console.log(e.name,self.activeName),this.getData(e.name)},getCourseData:function(){var e=this;this.Get("admin/course",{page:e.page-1,size:e.size},(function(t){t.success?(e.courseData=t.data,e.count=t.count):alert(t.msg)}))},getData:function(e){var t=this;t.tableData=[],this.Get("course/list",{id:e,page:t.page-1,size:t.size},(function(a){a.success?(t.cid=e,t.tableData=a.data,t.count=a.count):alert(a.msg)}))}}}),c=i,l=(a("67cc"),a("2877")),o=Object(l["a"])(c,s,n,!1,null,null,null);t["default"]=o.exports},"67cc":function(e,t,a){"use strict";var s=a("086d"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-5c7aba56.1479bf94.js.map